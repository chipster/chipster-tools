<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="en">
<head><title></title></head>
<body>

<h2>Retrieve data from Illumina BaseSpace </h2>

<h3>Description</h3>

<p>
This tool retrieves data from the <a href="https://basespace.illumina.com">Illumina BaseSpace service</a>. It allows you to:
<ul>
<li><b>List</b> the data sets you have in Illumina BaseSpace.</li>
<li><b>Download</b> content of a data set as a gzipped tar archive file.</li>
<li><b>Display content of a specific data set</b> as a table.</li>
<li><b>Display detailed information of a data set</b></li>
</ul>
In order to use this tool you need
<ol>
<li> Illumina BaseSpace user account</li>
<li> <u>Access token</u> for the Illumina BaseSpace client <b>bs</b> (please find instructions below) </li>
</ol>

<h3>Parameters</h3>

You must define the Illumina BaseSpace API server and your personal access token for every task.
The data sets are identified by their names (id code is not accepted). In the case of data set listing,
the name parameter can be left blank. 


<h3>Obtaining server name and access token for Illumina BaseSpace</h3>

<p>In order to create the access token you must use a computer that has the
<a href="https://developer.basespace.illumina.com/docs/content/documentation/cli/cli-overview"> bs client</a> installed.
You can easily install the bs client on your local computer, or if you have <a href=https://docs.csc.fi/accounts/>a CSC user account</a> 
and a CSC project you can use the bs client installed in puhti.csc.fi.</p>

<p>The access token is created with the following bs setup command:
<pre>
module load biokit    
bs auth
</pre>
The command prints out a link that you should paste to a web browser to verify your authentication.
After the authentication, Illumina BaseSpace configuration file is created in your home directory 
on the computer where you executed the command. This configuration file contains information about the 
server name and access token you should use in Chipster. If you do this in Puhti, you can print out the content of the configuration file with command:
<pre>
cat $HOME/.basespace/default.cfg
</pre>
</p>

<p>
Note that you need to set the access token for BaseSpace only once. However, you must include the access token 
to every BaseSpace command in Chipster, as Chipster does not store the access token information.
</p>

</body>
</html>

